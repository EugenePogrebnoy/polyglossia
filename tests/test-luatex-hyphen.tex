\documentclass{minimal}
\directlua{dofile(kpse.find_file('luatex-hyphen.lua'))}

\usepackage{polyglossia}
\setmainlanguage{english}
\setotherlanguage{german}

\usepackage{fontspec}

\def\gnaeherr{%
\begin{minipage}{2sp}
\hskip 1sp Gnädigster Herr
\end{minipage}%
}

\begin{document}

Hello, world!

\gnaeherr

\begin{german}
% Work around to use tex.count
\countdef\lang=42
\lang=\language
\directlua{texio.write_nl('term and log', 'lang counter: ' ..  tex.count.lang)}
\directlua{luatexhyphen.loadlanguage('german', tex.count.lang)}
Hallo, Welt!

\gnaeherr
\end{german}

\fontspec{XB Zar}
۰۹

\end{document}
